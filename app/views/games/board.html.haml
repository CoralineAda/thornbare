.game_info
  %h1
    = @game.name
  %h2
    Round #{@game.round + 1}
    %br
    #{@current_player.name}'s Turn
    %br
    = @current_space.name
  .dice
    = link_to "Roll to Move", "#"
  .trade
    - players_on_square = @players.select{|player| player != @current_player && player.position == @current_player.position}
    - if players_on_square.any?
      = link_to "Trade Cards", "#"
      with
      = select_tag(:trade_with, options_from_collection_for_select(players_on_square, "id", "name"))
    - else
      Trade Cards
.board
  - @spaces.each do |space|
    - x,y = Board.coords(space.position)
    - space_class = space.position == 0 ? 'start' : ''
    %div{class: "space #{space_class}", style: "top: #{y + 10}px; left: #{x + 301}px; background-position: #{rand(10) * 10}px #{rand(10) * 10}px;"}
      .label
        = space.name
      - @players.each do |player|
        - if player.position == space.position
          .player{style: "background-color: #{player.color}; top: #{rand(30) * 2}px; left: #{rand(30) * 2}px;"}
            = player.name[0]
  .building{style: "background-image: url(/assets/buildings/building_#{@current_player.position}.jpg)"}
